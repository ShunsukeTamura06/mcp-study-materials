---
marp: true
theme: default
paginate: true
---

# なぜ今、MCPなのか？
### 〜AIに"指示できる時代"を支えるプロトコル〜

---

## 🌍 今までは「答えるAI」だった

- ChatGPTなどの生成AIは、質問に答えたり文章を要約したりしてくれる。
- でも、それだけでは実際の作業や操作まではできない。
- 例：「Gitで新しいリポジトリを作って」と言っても、AIは直接操作できない。　　　　　　

> 💬 「AIにできること、意外と少ない？」と思ったことはありませんか？

---

## 🤖 次のステージ：「AIに行動させる」

- 最近のAIは、"答える"から"行動する"へ進化している。
- 「検索して」「資料をまとめて」「ファイルを探して」…
- そんな実務的な指示をAIが実行できる時代が始まりつつあります。

> 🌟 行動するためには「何をどう行動するのか」といった決まりが必要です。

---

## 🧩 その鍵が「MCP」──Model Context Protocol

- MCPとは、AI（LLM）とツールのあいだの **共通の"呼び出し言語"** です。
- Anthropicが2024年11月にオープンソースとして発表した。
- AIがツールを使うための「USBポート」のようなもの。
  - ツールの種類はたくさんあっても、接続方法は統一されている。
  - ツールに修正があっても、接続口や本体を修正しなくて良い。

- Microsoftも2025年にWindowsへのMCP統合を発表し、大注目！

---

## 🔍 MCPの構成
- MCPホスト：LLM、チャット画面、MCPクライアントを内蔵したアプリ
  - Claude Desktop, Cline, roo code
- MCPクライアント：MCPサーバーとやり取りを行う
  - 基本的にMCPホストに内蔵されている
- MCPサーバー：複数ツールを持っていて実際に処理を行う
  - Githubで公開されているものを使ったり自作したりする
  - リモートだったりローカルだったりする

---

## 🔍 MCPの仕組み（ざっくり）

1. MCPサーバーが「自分はこういう機能がありますよ」という **自己紹介カード（＝メタデータ）** をLLMに渡す
2. LLMがユーザーから質問を受けると、そのカードを見て自然言語から適切なツールを選ぶ
3. 選ばれたツールをMCPサーバーが実行して結果をLLMに返す

> 📦 MCPは、上記の呼び出し方・受け渡し方を共通化したプロトコルです

---

## 🧠 APIではダメなのか？

| 項目 | 従来のAPI連携 | MCP |
|------|------------------|----------------------------|
| 接続方法 | APIごとに異なる | 基本部分は統一 |
| 保守性 | 仕様変更のたびにコードを修正 | 仕様が変わってもLLMはそのまま使える |
| 拡張性 | ツール追加に複雑な実装が必要 | 登録すればLLMがすぐ使える |

> ⚙️ MCPは仕様書ごとLLMに渡すことで、ツールの変更を動的に反映できる

---

## 📚 活用イメージ（身近な業務にどう使える？）

- 💻 Git操作：新規リポジトリ作成、コミット履歴の確認などを自然言語で
- 📚 論文検索：arXivなどの最新研究をAIに代わりに探してもらう
- 📊 社内DBの検索：「〇〇部のPLは？」→SQLなしで結果が出る

---

## 🔧 MCPツールの作り方

fastmcpを使うことで、 **既存の関数をそのままMCP化** 可能！

例：`greet` ツール（入力された文字をそのまま返す）

```python
from fastmcp import FastMCP
mcp = FastMCP(name="mcp-test")

@mcp.tool()
def greet(name: str)-> str:
  """nameに挨拶する"""
  return f"Hello, {name}!"

mcp.run(trunsport="sse")
```

このファイルを実行するだけでMCPサーバーが立ち上がり、LLMから呼び出せます✨

---

## 📎 社内活用の課題

- 使えるMCPホストのアプリが限られている
  - vscodeの拡張機能であるClineやroo codeぐらい
- オープンソースのMCPサーバーを立ち上げられない
  - MCPサーバーの立ち上げはnode.jsやdockerが基本
- オープンソースのMCPサーバーのツールを使えない
  - ツールがAPIを呼び出したりインターネットに接続する場合が多く、社内の制限に引っかかる 

---

## 📎 社内活用の課題への対応

- 使えるMCPホストのアプリが限られている
  - vscodeの拡張機能であるClineやroo codeぐらい
  →MCPホストサーバーを立ち上げてブラウザから使えるようにする
- オープンソースのMCPサーバーを立ち上げられない
  - MCPサーバーの立ち上げはnode.jsやdockerが基本
  →pythonへの書き換え
  →MAWSで立ち上げる
- オープンソースのMCPサーバーのツールを使えない
  - ツールがAPIを呼び出したりインターネットに接続する場合が多く、社内の制限に引っかかる 
  →APIのホワイトリスト登録
  →サイトはプロキシを通す

---

## 🎁 まとめ

- MCPとはLLMとツールを接続するための通信規約のこと
- MCPのメリットは
  - LLMとツールを独立させられること
  - 非エンジニアでも自然言語でツールが使えるようになること

- 今後のAI活用において、USB並みに普及する可能性のある通信規約です✨

---

## 🎥 デモなど

- git操作
- DB操作

---

## 厳密には
- MCPが提供するのはツール以外に、リソース、プロンプトの計3種類
- 社内で使えそうなMCPホスト
  - roo code(おすすめ)
  - Cline
  - Dify(取り掛かり中)
  - n8n(取り掛かり中)